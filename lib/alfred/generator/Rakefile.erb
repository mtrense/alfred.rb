require 'alfred/development'

desc '(Re-)Generate workflow spec'
task :build_spec do
	spec = File.read('workflow_spec.rb')
	Alfred.workflow! do
		instance_eval spec, 'workflow_spec.rb', 1
	end
end

desc 'Generate bundle to import into Alfred'
task :bundle => [ :build_spec ] do
	`zip -r ../<%= @name %>.alfredworkflow *`
end

desc 'Opens your local Alfred and imports this workflow'
task :install => [ :bundle ] do
	`open ../<%= @name %>.alfredworkflow`
end
